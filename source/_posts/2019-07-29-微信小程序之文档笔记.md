---
title: 微信小程序之文档笔记
tags: ['微信小程序']
toc: true
mathjax: true
date: 2019-07-29 17:31:42
categories:
    - 微信小程序
    - 文档笔记
---

## 小程序简介

### 小程序的由来

Web 应用存在的问题：

1. 即使**微信 Web 资源离线存储**技术能够解决一些问题，但对于一些复杂的页面仍有白屏问题，例如页面加载了大量的`js`和`css`文件
2. 页面切换的生硬和点击的迟滞感

​ 微信面临的问题是如何设计一个比较好的系统，使得所有开发者在微信中都能获得比较好的体验。这个问题是之前的 JS-SDK 所处理不了的，需要一个全新的系统来完成，它需要使得所有的开发者都能做到：

1. 快速的加载
2. 更强大的能力
3. 原生的体验
4. 易用且安全的微信数据开发
5. 高效和简单的开发

### 小程序与普通网页开发的区别

1. web 中渲染线程和脚本线程是互斥的，而小程序采用的双线程
2. 小程序中不能使用`DOM API`和`BOM API`
3. 不用面对各式各样的浏览器，只需要面对 ios、android 的微信客户端，以及用于辅助开发的小程序开发者工具

    | 运行环境 | 逻辑层 | 渲染层 |
    | IOS | JavaScriptCore | WKWebview |
    | Android | V8 | chromium 定制内核 |
    |开发者工具| NWJS | Chrome Webview |

## 常见问题

### WXSS选择器

1. 组件和引用组件的页面不能使用id选择器（#a）、属性选择器（[a]）和标签名选择器，请改用class选择器。
2. 组件和引用组件的页面中使用后代选择器（.a .b）在一些极端情况下会有非预期的表现，如遇，请避免使用。
3. 子元素选择器（.a>.b）只能用于 view 组件与其子节点之间，用于其他组件可能导致非预期的情况。
4. 继承样式，如 font 、 color ，会从组件外继承到组件内。
5. 除继承样式外， app.wxss 中的样式、组件所在页面的的样式对自定义组件无效（除非更改组件样式隔离选项）。

